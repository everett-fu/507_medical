# 基于DQN深度神经学习网络的电车调度系统
---
本项目为参加比赛所创建的项目，没有现实指导意义。
## 比赛背景
假设我们有50辆电动汽车，有很多的点，点与点之间相互连接，构成一个完全无向图。每条路有两种情况，分别为充电路段，与耗电路段，行驶到充电路段充点值会大于耗电值。车辆行驶到每条路的平均速度随机，路段为两个点之间的直线距离，耗电值为`路段的长度*每百公里电耗/100`，充电值为`路段长度/平均速度*每小时充电值`。
要求随机选取两个点，分别为起点与终点，随机规定时间（一定能跑完一条从起点到终点），随机初始电量。一辆车从启动到终点，找出在规定时间内能充电最多的路段。即虽然可以直接到达终点，但要绕远路，获得最大的电量。
上面是一辆车的情况，要求50辆车的总数获得最大的电量。
## 项目背景
在小规模的情况下，比如13个点构成的完全无向图，5辆暴力算法还可以解出答案，（我的笔记本为5800h，3060显卡，内存16g）。但在13个点以上的情况将无法在短时间解出答案，即np难问题。因此我们采用DQN神经学习网络来构建答案。
## 项目优势
在小规模的情况下，我们能达到暴力算法的80%~90%左右的精度，（两种情况的初始值都一样，比较最后的平均剩余电量），在大规模的情况下，DQN算法为贪心算法的2到3倍的精度，（两种贪心，分别为贪路程的时间，贪路线的充电值，贪心算法经常贪着贪着就没电跑到终点，或者超时，这种情况我们直接算失败，剩余电量直接记为0）。
## 问题
本项目的代码基本上已经完成，但会出现一种情况，即跑到最后的时候，剩余时间还有，但电量不足，这种情况应该返回到上一个点然后直接到终点，但我的代码没有考虑到这点，会出现返回到上一个点然后又跑下去，中间会出现一个断点。好在比赛的时候给出的数据集这种情况比较少，但由于比赛结束，后续没有时间来修改这个问题，请后续同学使用本代码时修改这个情况。
## 致谢
本代码基于莫凡DQN教程的基础上继续开发的，感谢大佬救我狗命。
